(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{416:function(_,v,t){"use strict";t.r(v);var e=t(47),a=Object(e.a)({},(function(){var _=this,v=_.$createElement,t=_._self._c||v;return t("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[t("h1",{attrs:{id:"参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[_._v("#")]),_._v(" 参数")]),_._v(" "),t("h2",{attrs:{id:"flowloader-的-props"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flowloader-的-props"}},[_._v("#")]),_._v(" FlowLoader 的 props")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("参数")]),_._v(" "),t("th",[_._v("类型")]),_._v(" "),t("th",[_._v("必填")]),_._v(" "),t("th",[_._v("默认值")]),_._v(" "),t("th",[_._v("验证")]),_._v(" "),t("th",[_._v("作用")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[_._v("func")]),_._v(" "),t("td",[_._v("String")]),_._v(" "),t("td",[_._v("true")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("请求的 API 函数名")])]),_._v(" "),t("tr",[t("td",[_._v("type")]),_._v(" "),t("td",[_._v("String")]),_._v(" "),t("td",[_._v("true")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("page, jump, seenIds, lastId, sinceId")]),_._v(" "),t("td",[_._v("API的翻页方式")])]),_._v(" "),t("tr",[t("td",[_._v("query")]),_._v(" "),t("td",[_._v("Object")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("{}")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("透传给 API 层的参数")])]),_._v(" "),t("tr",[t("td",[_._v("auto")]),_._v(" "),t("td",[_._v("Number")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("-1")]),_._v(" "),t("td",[_._v(">= -1")]),_._v(" "),t("td",[_._v("自动加载的次数，-1 代表无限加载")])]),_._v(" "),t("tr",[t("td",[_._v("displayNoMore")]),_._v(" "),t("td",[_._v("Boolean")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("当列表刷不出更多的时候，是否展示文字提示")])]),_._v(" "),t("tr",[t("td",[_._v("useFirstError")]),_._v(" "),t("td",[_._v("Boolean")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("是否在首次加载失败时使用特殊的 slot")])]),_._v(" "),t("tr",[t("td",[_._v("useFirstLoading")]),_._v(" "),t("td",[_._v("Boolean")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("是否在首次加载loading时使用特殊的 slot")])]),_._v(" "),t("tr",[t("td",[_._v("retryOnError")]),_._v(" "),t("td",[_._v("Boolean")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("true")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("当展示 error 的时候是否点击后重试")])]),_._v(" "),t("tr",[t("td",[_._v("preload")]),_._v(" "),t("td",[_._v("Number")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("50")]),_._v(" "),t("td",[_._v(">= 0")]),_._v(" "),t("td",[_._v("自动加载下一页的预加载高度（px）")])]),_._v(" "),t("tr",[t("td",[_._v("callback")]),_._v(" "),t("td",[_._v("Function")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("undefined")]),_._v(" "),t("td",[_._v("Function")]),_._v(" "),t("td",[_._v("接口请求成功后可以调用一个 callback 函数")])]),_._v(" "),t("tr",[t("td",[_._v("cacheTimeout")]),_._v(" "),t("td",[_._v("Number")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("0")]),_._v(" "),t("td",[_._v(">= 0")]),_._v(" "),t("td",[_._v("将数据缓存到 localStorage 里超时的秒数")])]),_._v(" "),t("tr",[t("td",[_._v("useRect")]),_._v(" "),t("td",[_._v("Boolean")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("使用"),t("code",[_._v("getBoundingClientRect")]),_._v("来计算是否加载更多")])]),_._v(" "),t("tr",[t("td",[_._v("debug")]),_._v(" "),t("td",[_._v("Boolean")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("false")]),_._v(" "),t("td",[_._v("-")]),_._v(" "),t("td",[_._v("在控制台输出 FlowLoader 的生命周期调用")])])])]),_._v(" "),t("h3",{attrs:{id:"query-中的一些关键字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#query-中的一些关键字"}},[_._v("#")]),_._v(" query 中的一些关键字")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("参数")]),_._v(" "),t("th",[_._v("作用")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[_._v("page")]),_._v(" "),t("td",[_._v("在首次加载的时候可以传入 page，之后 store 会自动维护")])]),_._v(" "),t("tr",[t("td",[_._v("changing")]),_._v(" "),t("td",[_._v("列表中每个 item 的 unique_id 的 key，默认是 id，可自定义其它 key，若 unique_id 在 object 的深层，使用"),t("code",[_._v(".")]),_._v("来分割")])]),_._v(" "),t("tr",[t("td",[_._v("is_up")]),_._v(" "),t("td",[_._v("这个 key 由 FlowLoader 自动维护，默认为 false，只用在调用 "),t("code",[_._v("loadBefore")]),_._v(" 时被设为 true，并透传给 API 层")])]),_._v(" "),t("tr",[t("td",[_._v("__refresh__，__reload__")]),_._v(" "),t("td",[_._v("当调用 "),t("code",[_._v("refresh")]),_._v(" 方法的时候会自动传这量个 key 来刷新 state，所以你不要使用它们")])])])]),_._v(" "),t("h2",{attrs:{id:"flowloader-的方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flowloader-的方法"}},[_._v("#")]),_._v(" FlowLoader 的方法")]),_._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[_._v("TIP")]),_._v(" "),t("p",[_._v("以下方法使用 this.$refs.loader.xxx 调用")])]),_._v(" "),t("h4",{attrs:{id:"initdata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#initdata"}},[_._v("#")]),_._v(" initData()")]),_._v(" "),t("ul",[t("li",[_._v("当auto设为0时，手动获取第一页的数据")])]),_._v(" "),t("h4",{attrs:{id:"loadmore"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loadmore"}},[_._v("#")]),_._v(" loadMore()")]),_._v(" "),t("ul",[t("li",[_._v("当auto设为0时，手动获取下一页的数据")])]),_._v(" "),t("h4",{attrs:{id:"loadbefore"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#loadbefore"}},[_._v("#")]),_._v(" loadBefore()")]),_._v(" "),t("ul",[t("li",[_._v("当"),t("code",[_._v("type")]),_._v("="),t("code",[_._v("sinceId")]),_._v("的时候，用来加载前面的数据")])]),_._v(" "),t("h4",{attrs:{id:"refresh-reload-false"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#refresh-reload-false"}},[_._v("#")]),_._v(" refresh(reload = false)")]),_._v(" "),t("ul",[t("li",[_._v("刷新列表，该列表的原有数据会被清空")]),_._v(" "),t("li",[_._v("当"),t("code",[_._v("reload")]),_._v("设置为 true 的时候，刷新的时候不展示 loading")])]),_._v(" "),t("h4",{attrs:{id:"retry"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#retry"}},[_._v("#")]),_._v(" retry()")]),_._v(" "),t("ul",[t("li",[_._v("接口请求报错的时候，当 error-on-retry 设为 false 的时候手动调用来 retry")])]),_._v(" "),t("h4",{attrs:{id:"clear"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clear"}},[_._v("#")]),_._v(" clear()")]),_._v(" "),t("ul",[t("li",[_._v("手动将数据清空，但不发请求")])]),_._v(" "),t("h4",{attrs:{id:"jump-page"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jump-page"}},[_._v("#")]),_._v(" jump(page)")]),_._v(" "),t("ul",[t("li",[_._v("参数：page")]),_._v(" "),t("li",[_._v("跳转到第几页，只应该在"),t("code",[_._v("type")]),_._v(" ="),t("code",[_._v("jump")]),_._v(" 的时候被调用")])]),_._v(" "),t("h4",{attrs:{id:"update-id-key-value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-id-key-value"}},[_._v("#")]),_._v(" update({ id, key, value })")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：id（这里是键值，键名由 query 里的 changing 指定）")]),_._v(" "),t("li",[_._v("参数[必选]：key（默认为空）")]),_._v(" "),t("li",[_._v("参数[必选]：value")]),_._v(" "),t("li",[_._v("改变"),t("code",[_._v("field")]),_._v("中某个"),t("code",[_._v("result")]),_._v("的某个值")])]),_._v(" "),t("h4",{attrs:{id:"modify-key-value"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#modify-key-value"}},[_._v("#")]),_._v(" modify({ key, value })")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：key（默认为空）")]),_._v(" "),t("li",[_._v("参数[必选]：value")]),_._v(" "),t("li",[_._v("改变该"),t("code",[_._v("field")]),_._v("的某个数据")])]),_._v(" "),t("h4",{attrs:{id:"delete-id-key-changing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-id-key-changing"}},[_._v("#")]),_._v(" delete(id, key, changing)")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：id（这里是键值，键名由 query 里的 changing 指定）")]),_._v(" "),t("li",[_._v("参数[可选]：key 默认为"),t("code",[_._v("result")])]),_._v(" "),t("li",[_._v("参数[可选]：changing（优先级比 query 里的 changing 高，不支持"),t("code",[_._v(".")]),_._v("语法）")]),_._v(" "),t("li",[_._v("删除列表中的某个元素")])]),_._v(" "),t("h4",{attrs:{id:"prepend-data-key-changing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#prepend-data-key-changing"}},[_._v("#")]),_._v(" prepend(data, key, changing)")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：data（array|object）")]),_._v(" "),t("li",[_._v("参数[可选]：key 默认为"),t("code",[_._v("result")])]),_._v(" "),t("li",[_._v("参数[可选]：changing（优先级比 query 里的 changing 高，不支持"),t("code",[_._v(".")]),_._v("语法）")]),_._v(" "),t("li",[_._v("在列表的前面插入数据")])]),_._v(" "),t("h4",{attrs:{id:"append-data-key-changing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#append-data-key-changing"}},[_._v("#")]),_._v(" append(data, key, changing)")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：data（array|object）")]),_._v(" "),t("li",[_._v("参数[可选]：key 默认为"),t("code",[_._v("result")])]),_._v(" "),t("li",[_._v("参数[可选]：changing（优先级比 query 里的 changing 高，不支持"),t("code",[_._v(".")]),_._v("语法）")]),_._v(" "),t("li",[_._v("在列表的后面插入数据")])]),_._v(" "),t("h4",{attrs:{id:"insertbefore-id-value-key-changing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insertbefore-id-value-key-changing"}},[_._v("#")]),_._v(" insertBefore({ id, value, key, changing })")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：id（列表中某个 item 的 id）")]),_._v(" "),t("li",[_._v("参数[必选]：value（object）")]),_._v(" "),t("li",[_._v("参数[可选]：key 默认为"),t("code",[_._v("result")])]),_._v(" "),t("li",[_._v("参数[可选]：changing（优先级比 query 里的 changing 高，不支持"),t("code",[_._v(".")]),_._v("语法）")]),_._v(" "),t("li",[_._v("在列表的某个元素之前插入数据")])]),_._v(" "),t("h4",{attrs:{id:"insertafter-id-value-key-changing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insertafter-id-value-key-changing"}},[_._v("#")]),_._v(" insertAfter({ id, value, key, changing })")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：id（列表中某个 item 的 id）")]),_._v(" "),t("li",[_._v("参数[必选]：value（object）")]),_._v(" "),t("li",[_._v("参数[可选]：key 默认为"),t("code",[_._v("result")])]),_._v(" "),t("li",[_._v("参数[可选]：changing（优先级比 query 里的 changing 高，不支持"),t("code",[_._v(".")]),_._v("语法）")]),_._v(" "),t("li",[_._v("在列表的某个元素之后插入数据")])]),_._v(" "),t("h4",{attrs:{id:"patch-array-key-changing"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#patch-array-key-changing"}},[_._v("#")]),_._v(" patch(array, key, changing)")]),_._v(" "),t("ul",[t("li",[_._v("参数[必选]：value objectArray 或 array")]),_._v(" "),t("li",[_._v("参数[可选]：key 默认为"),t("code",[_._v("result")])]),_._v(" "),t("li",[_._v("参数[可选]：changing（优先级比 query 里的 changing 高，不支持"),t("code",[_._v(".")]),_._v("语法）")]),_._v(" "),t("li",[_._v("给原有的数据打补丁")])]),_._v(" "),t("h4",{attrs:{id:"getresource-key-extra"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#getresource-key-extra"}},[_._v("#")]),_._v(" getResource(key = 'extra')")]),_._v(" "),t("ul",[t("li",[_._v("参数：key（要获取数据的key），"),t("code",[_._v("store")]),_._v("不存在时返回"),t("code",[_._v("undefined")])]),_._v(" "),t("li",[_._v("获取列表里的某个数据")])]),_._v(" "),t("h4",{attrs:{id:"forcecallback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#forcecallback"}},[_._v("#")]),_._v(" forceCallback()")]),_._v(" "),t("ul",[t("li",[_._v("参数：无")]),_._v(" "),t("li",[_._v("强制调用 callback")])]),_._v(" "),t("h3",{attrs:{id:"callback-的参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#callback-的参数"}},[_._v("#")]),_._v(" callback 的参数")]),_._v(" "),t("ol",[t("li",[_._v("params：请求的参数")]),_._v(" "),t("li",[_._v("data：格式话后请求的响应值")]),_._v(" "),t("li",[_._v("refresh：是否是刷新")])]),_._v(" "),t("h2",{attrs:{id:"flowstore-透传的参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flowstore-透传的参数"}},[_._v("#")]),_._v(" FlowStore 透传的参数")]),_._v(" "),t("table",[t("thead",[t("tr",[t("th",[_._v("Flow类型")]),_._v(" "),t("th",[_._v("参数")]),_._v(" "),t("th",[_._v("默认值")]),_._v(" "),t("th",[_._v("翻页值")])])]),_._v(" "),t("tbody",[t("tr",[t("td",[_._v("page")]),_._v(" "),t("td",[_._v("page")]),_._v(" "),t("td",[_._v("1")]),_._v(" "),t("td",[_._v("自动维护，+1")])]),_._v(" "),t("tr",[t("td",[_._v("sinceId")]),_._v(" "),t("td",[_._v("since_id, is_up")]),_._v(" "),t("td",[_._v("is_up = 1, since_id = 999999999； is_up = 0, since_id = 0")]),_._v(" "),t("td",[_._v("根据翻页方向自动维护")])]),_._v(" "),t("tr",[t("td",[_._v("jump")]),_._v(" "),t("td",[_._v("page")]),_._v(" "),t("td",[_._v("1")]),_._v(" "),t("td",[_._v("手动传值")])]),_._v(" "),t("tr",[t("td",[_._v("lastId")]),_._v(" "),t("td",[_._v("last_id")]),_._v(" "),t("td",[_._v("0")]),_._v(" "),t("td",[_._v("当前列表最后一个元素的 id 值")])]),_._v(" "),t("tr",[t("td",[_._v("seenIds")]),_._v(" "),t("td",[_._v("seen_ids")]),_._v(" "),t("td",[_._v("''")]),_._v(" "),t("td",[_._v("当前列表所有元素的 id 值的数组然后 join(',')")])]),_._v(" "),t("tr",[t("td",[_._v("-")]),_._v(" "),t("td",[_._v("_extra")]),_._v(" "),t("td",[_._v("null")]),_._v(" "),t("td",[_._v("field 里的附加数据")])])])]),_._v(" "),t("blockquote",[t("p",[_._v("当然也包括 query 里面提供的参数")])])])}),[],!1,null,null,null);v.default=a.exports}}]);